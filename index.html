<html>
<head>
<title>XKCD</title>
<script src="https://code.jquery.com/jquery-1.10.2.js"></script>

</head>
<body>


<h1>Comic</h1>
<div id="xkcd"></div>

<button type="button" id="submit">Get a Random Comic</button>

<script>

$("#submit").click(function () {

    var myurl= "http://dynamic.xkcd.com/api-0/jsonp/comic";
    $.ajax({
        url : myurl,
        crossDomain : true,
        dataType : "jsonp",
        success : function(parsed_json) {
            var rand = Math.floor(Math.random() * (parsed_json.num + 1));
            
            $.ajax({
                url : myurl + "/" + rand,
                crossDomain : true,
                dataType : "jsonp",
                success : function (json) {
                    $("#xkcd").html (
                        "<img src = '" + json.img +"'>"
                    );
                    console.log (json);
                }
            });
        }
    });
}); 

</script>


</body>
</html>